import{z as ne,A as ae,_ as i,B as K,D,E as le,F as ce,G as ie,r as v,i as M,j as t,H as w,I as J,l as _,g as O,f as V,J as I,K as de,h as ue,M as T,N as A,O as pe,P as me,Q as H,u as he,R as fe,T as be,U as xe,C as ge,L as Q,V as Ce,W as ke,X as ve}from"./index-61a7dcf4.js";import{s as ye,u as Z,f as Pe,a as Re,C as je,A as Se,d as Fe,B as Be,T as X,G as U}from"./useAuthenticate-c6a4ce27.js";import{H as $e}from"./Header-e82cbb85.js";import{T as Y}from"./Typography-59600b05.js";import{e as Ie}from"./Grow-3ef76a1b.js";import"./axios-b8a0d269.js";const Le=["component","direction","spacing","divider","children","className","useFlexGap"],Ne=ne(),Ee=ye("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root});function we(e){return ae({props:e,name:"MuiStack",defaultTheme:Ne})}function Te(e,o){const s=v.Children.toArray(e).filter(Boolean);return s.reduce((n,a,r)=>(n.push(a),r<s.length-1&&n.push(v.cloneElement(o,{key:`separator-${r}`})),n),[])}const Me=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],_e=({ownerState:e,theme:o})=>{let s=i({display:"flex",flexDirection:"column"},K({theme:o},D({values:e.direction,breakpoints:o.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=le(o),a=Object.keys(o.breakpoints.values).reduce((c,l)=>((typeof e.spacing=="object"&&e.spacing[l]!=null||typeof e.direction=="object"&&e.direction[l]!=null)&&(c[l]=!0),c),{}),r=D({values:e.direction,base:a}),u=D({values:e.spacing,base:a});typeof r=="object"&&Object.keys(r).forEach((c,l,p)=>{if(!r[c]){const d=l>0?r[p[l-1]]:"column";r[c]=d}}),s=ce(s,K({theme:o},u,(c,l)=>e.useFlexGap?{gap:J(n,c)}:{"& > :not(style) ~ :not(style)":{margin:0,[`margin${Me(l?r[l]:e.direction)}`]:J(n,c)}}))}return s=ie(o.breakpoints,s),s};function Oe(e={}){const{createStyledComponent:o=Ee,useThemeProps:s=we,componentName:n="MuiStack"}=e,a=()=>_({root:["root"]},c=>O(n,c),{}),r=o(_e);return v.forwardRef(function(c,l){const p=s(c),m=Ie(p),{component:d="div",direction:b="column",spacing:j=0,divider:C,children:h,className:g,useFlexGap:x=!1}=m,B=M(m,Le),L={direction:b,spacing:j,useFlexGap:x},S=a();return t.jsx(r,i({as:d,ownerState:L,ref:l,className:w(S.root,g)},B,{children:C?Te(h,C):h}))})}function ze(e){return O("PrivateSwitchBase",e)}V("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const De=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Ue=e=>{const{classes:o,checked:s,disabled:n,edge:a}=e,r={root:["root",s&&"checked",n&&"disabled",a&&`edge${T(a)}`],input:["input"]};return _(r,ze,o)},qe=I(de)(({ownerState:e})=>i({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Ve=I("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ae=v.forwardRef(function(o,s){const{autoFocus:n,checked:a,checkedIcon:r,className:u,defaultChecked:f,disabled:c,disableFocusRipple:l=!1,edge:p=!1,icon:m,id:d,inputProps:b,inputRef:j,name:C,onBlur:h,onChange:g,onFocus:x,readOnly:B,required:L=!1,tabIndex:S,type:y,value:$}=o,P=M(o,De),[F,ee]=ue({controlled:a,default:!!f,name:"SwitchBase",state:"checked"}),R=Z(),oe=k=>{x&&x(k),R&&R.onFocus&&R.onFocus(k)},te=k=>{h&&h(k),R&&R.onBlur&&R.onBlur(k)},se=k=>{if(k.nativeEvent.defaultPrevented)return;const G=k.target.checked;ee(G),g&&g(k,G)};let N=c;R&&typeof N>"u"&&(N=R.disabled);const re=y==="checkbox"||y==="radio",z=i({},o,{checked:F,disabled:N,disableFocusRipple:l,edge:p}),W=Ue(z);return t.jsxs(qe,i({component:"span",className:w(W.root,u),centerRipple:!0,focusRipple:!l,disabled:N,tabIndex:null,role:void 0,onFocus:oe,onBlur:te,ownerState:z,ref:s},P,{children:[t.jsx(Ve,i({autoFocus:n,checked:a,defaultChecked:f,className:W.input,disabled:N,id:re?d:void 0,name:C,onChange:se,readOnly:B,ref:j,required:L,ownerState:z,tabIndex:S,type:y},y==="checkbox"&&$===void 0?{}:{value:$},b)),F?r:m]}))}),He=Ae,We=A(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Ge=A(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Ke=A(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Je(e){return O("MuiCheckbox",e)}const Qe=V("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),q=Qe,Xe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ye=e=>{const{classes:o,indeterminate:s,color:n}=e,a={root:["root",s&&"indeterminate",`color${T(n)}`]},r=_(a,Je,o);return i({},o,r)},Ze=I(He,{shouldForwardProp:e=>pe(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[o.root,s.indeterminate&&o.indeterminate,s.color!=="default"&&o[`color${T(s.color)}`]]}})(({theme:e,ownerState:o})=>i({color:(e.vars||e).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${o.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:me(o.color==="default"?e.palette.action.active:e.palette[o.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${q.checked}, &.${q.indeterminate}`]:{color:(e.vars||e).palette[o.color].main},[`&.${q.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),eo=t.jsx(Ge,{}),oo=t.jsx(We,{}),to=t.jsx(Ke,{}),so=v.forwardRef(function(o,s){var n,a;const r=H({props:o,name:"MuiCheckbox"}),{checkedIcon:u=eo,color:f="primary",icon:c=oo,indeterminate:l=!1,indeterminateIcon:p=to,inputProps:m,size:d="medium",className:b}=r,j=M(r,Xe),C=l?p:c,h=l?p:u,g=i({},r,{color:f,indeterminate:l,size:d}),x=Ye(g);return t.jsx(Ze,i({type:"checkbox",inputProps:i({"data-indeterminate":l},m),icon:v.cloneElement(C,{fontSize:(n=C.props.fontSize)!=null?n:d}),checkedIcon:v.cloneElement(h,{fontSize:(a=h.props.fontSize)!=null?a:d}),ownerState:g,ref:s,className:w(x.root,b)},j,{classes:x}))}),ro=so,no=Oe({createStyledComponent:I("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root}),useThemeProps:e=>H({props:e,name:"MuiStack"})}),ao=no;function lo(e){return O("MuiFormControlLabel",e)}const co=V("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),E=co,io=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],uo=e=>{const{classes:o,disabled:s,labelPlacement:n,error:a,required:r}=e,u={root:["root",s&&"disabled",`labelPlacement${T(n)}`,a&&"error",r&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",a&&"error"]};return _(u,lo,o)},po=I("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:s}=e;return[{[`& .${E.label}`]:o.label},o.root,o[`labelPlacement${T(s.labelPlacement)}`]]}})(({theme:e,ownerState:o})=>i({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${E.disabled}`]:{cursor:"default"}},o.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},o.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},o.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${E.label}`]:{[`&.${E.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),mo=I("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,o)=>o.asterisk})(({theme:e})=>({[`&.${E.error}`]:{color:(e.vars||e).palette.error.main}})),ho=v.forwardRef(function(o,s){var n,a;const r=H({props:o,name:"MuiFormControlLabel"}),{className:u,componentsProps:f={},control:c,disabled:l,disableTypography:p,label:m,labelPlacement:d="end",required:b,slotProps:j={}}=r,C=M(r,io),h=Z(),g=(n=l??c.props.disabled)!=null?n:h==null?void 0:h.disabled,x=b??c.props.required,B={disabled:g,required:x};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof c.props[F]>"u"&&typeof r[F]<"u"&&(B[F]=r[F])});const L=Pe({props:r,muiFormControl:h,states:["error"]}),S=i({},r,{disabled:g,labelPlacement:d,required:x,error:L.error}),y=uo(S),$=(a=j.typography)!=null?a:f.typography;let P=m;return P!=null&&P.type!==Y&&!p&&(P=t.jsx(Y,i({component:"span"},$,{className:w(y.label,$==null?void 0:$.className),children:P}))),t.jsxs(po,i({className:w(y.root,u),ownerState:S,ref:s},C,{children:[v.cloneElement(c,B),x?t.jsxs(ao,{direction:"row",alignItems:"center",children:[P,t.jsxs(mo,{ownerState:S,"aria-hidden":!0,className:y.asterisk,children:[" ","*"]})]}):P]}))}),fo=ho;function bo(e){switch(e.code){case"ERR_NETWORK":return ve;case"ERR_BAD_RESPONSE":return ke;default:return Ce}}function Po(){const e=he(),o=fe(),s=be(),{mutate:n,isLoading:a,error:r}=Re(),u=r,f=async c=>{var p,m;c.preventDefault();const l=new FormData(c.currentTarget);n({email:(p=l.get("email"))==null?void 0:p.toString(),password:(m=l.get("password"))==null?void 0:m.toString()},{onSuccess(d){var b;e.setUser(d),sessionStorage.setItem("user_data",JSON.stringify(d)),(b=s.state)!=null&&b.from?o(s.state.from,{replace:!0}):o("/dashboard",{replace:!0})}})};return t.jsxs(t.Fragment,{children:[t.jsx($e,{}),t.jsx("main",{children:t.jsx(je,{component:"section",maxWidth:"xs",className:"mt-6",children:t.jsxs("div",{className:"flex flex-col items-center p-2",children:[t.jsx(Se,{sx:{m:1,bgcolor:"secondary.dark"},children:t.jsx(Fe,{})}),t.jsx("div",{className:"m-4 text-error-main text-center",children:u?t.jsx("p",{children:bo(u)}):void 0}),t.jsxs(Be,{component:"form",onSubmit:f,children:[t.jsx(X,{color:"info",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Sähköposti",name:"email",autoComplete:"email",autoFocus:!0}),t.jsx(X,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Salasana",type:"password",id:"password",autoComplete:"current-password"}),t.jsx(fo,{control:t.jsx(ro,{value:"remember",color:"info"}),label:"Muista minut"}),t.jsx(xe,{type:"submit",color:"primary",fullWidth:!0,variant:"contained",disabled:a,sx:{mt:3,mb:2},children:a?t.jsx(ge,{size:"26px",color:"info"}):t.jsx("p",{children:"Kirjaudu sisään"})}),t.jsxs(U,{container:!0,children:[t.jsx(U,{item:!0,xs:!0,children:t.jsx(Q,{to:"#",className:"text-info-main",children:"Unohtuiko salasana?"})}),t.jsx(U,{item:!0,children:t.jsx(Q,{to:"/register",className:"text-info-main",children:"Ei tiliä? Rekisteröidy."})})]})]})]})})})]})}export{Po as default};
