var P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={exports:{}};(function(e,t){var r=200,n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",c="[object Array]",l="[object Boolean]",h="[object Date]",d="[object Error]",y="[object Function]",Q="[object GeneratorFunction]",X="[object Map]",ue="[object Number]",wt="[object Object]",ce="[object Promise]",le="[object RegExp]",Z="[object Set]",fe="[object String]",de="[object Symbol]",bt="[object WeakMap]",he="[object ArrayBuffer]",tt="[object DataView]",pe="[object Float32Array]",ge="[object Float64Array]",ye="[object Int8Array]",me="[object Int16Array]",_e="[object Int32Array]",ve="[object Uint8Array]",we="[object Uint8ClampedArray]",be="[object Uint16Array]",Ae="[object Uint32Array]",dn=/[\\^$.*+?()[\]{}|]/g,hn=/\w*$/,pn=/^\[object .+?Constructor\]$/,gn=/^(?:0|[1-9]\d*)$/,m={};m[o]=m[c]=m[he]=m[tt]=m[l]=m[h]=m[pe]=m[ge]=m[ye]=m[me]=m[_e]=m[X]=m[ue]=m[wt]=m[le]=m[Z]=m[fe]=m[de]=m[ve]=m[we]=m[be]=m[Ae]=!0,m[d]=m[y]=m[bt]=!1;var yn=typeof P=="object"&&P&&P.Object===Object&&P,mn=typeof self=="object"&&self&&self.Object===Object&&self,x=yn||mn||Function("return this")(),Oe=t&&!t.nodeType&&t,Se=Oe&&!0&&e&&!e.nodeType&&e,_n=Se&&Se.exports===Oe;function vn(i,a){return i.set(a[0],a[1]),i}function wn(i,a){return i.add(a),i}function bn(i,a){for(var u=-1,f=i?i.length:0;++u<f&&a(i[u],u,i)!==!1;);return i}function An(i,a){for(var u=-1,f=a.length,v=i.length;++u<f;)i[v+u]=a[u];return i}function Te(i,a,u,f){var v=-1,w=i?i.length:0;for(f&&w&&(u=i[++v]);++v<w;)u=a(u,i[v],v,i);return u}function On(i,a){for(var u=-1,f=Array(i);++u<i;)f[u]=a(u);return f}function Sn(i,a){return i==null?void 0:i[a]}function $e(i){var a=!1;if(i!=null&&typeof i.toString!="function")try{a=!!(i+"")}catch{}return a}function Ee(i){var a=-1,u=Array(i.size);return i.forEach(function(f,v){u[++a]=[v,f]}),u}function At(i,a){return function(u){return i(a(u))}}function Ce(i){var a=-1,u=Array(i.size);return i.forEach(function(f){u[++a]=f}),u}var Tn=Array.prototype,$n=Function.prototype,et=Object.prototype,Ot=x["__core-js_shared__"],xe=function(){var i=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Me=$n.toString,j=et.hasOwnProperty,rt=et.toString,En=RegExp("^"+Me.call(j).replace(dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=_n?x.Buffer:void 0,je=x.Symbol,Pe=x.Uint8Array,Cn=At(Object.getPrototypeOf,Object),xn=Object.create,Mn=et.propertyIsEnumerable,Rn=Tn.splice,Ve=Object.getOwnPropertySymbols,jn=Re?Re.isBuffer:void 0,Pn=At(Object.keys,Object),St=q(x,"DataView"),J=q(x,"Map"),Tt=q(x,"Promise"),$t=q(x,"Set"),Et=q(x,"WeakMap"),H=q(Object,"create"),Vn=L(St),Fn=L(J),Ln=L(Tt),kn=L($t),In=L(Et),Fe=je?je.prototype:void 0,Le=Fe?Fe.valueOf:void 0;function V(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var f=i[a];this.set(f[0],f[1])}}function Qn(){this.__data__=H?H(null):{}}function Gn(i){return this.has(i)&&delete this.__data__[i]}function Dn(i){var a=this.__data__;if(H){var u=a[i];return u===n?void 0:u}return j.call(a,i)?a[i]:void 0}function qn(i){var a=this.__data__;return H?a[i]!==void 0:j.call(a,i)}function Un(i,a){var u=this.__data__;return u[i]=H&&a===void 0?n:a,this}V.prototype.clear=Qn,V.prototype.delete=Gn,V.prototype.get=Dn,V.prototype.has=qn,V.prototype.set=Un;function M(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var f=i[a];this.set(f[0],f[1])}}function Nn(){this.__data__=[]}function Bn(i){var a=this.__data__,u=nt(a,i);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():Rn.call(a,u,1),!0}function zn(i){var a=this.__data__,u=nt(a,i);return u<0?void 0:a[u][1]}function Jn(i){return nt(this.__data__,i)>-1}function Hn(i,a){var u=this.__data__,f=nt(u,i);return f<0?u.push([i,a]):u[f][1]=a,this}M.prototype.clear=Nn,M.prototype.delete=Bn,M.prototype.get=zn,M.prototype.has=Jn,M.prototype.set=Hn;function G(i){var a=-1,u=i?i.length:0;for(this.clear();++a<u;){var f=i[a];this.set(f[0],f[1])}}function Yn(){this.__data__={hash:new V,map:new(J||M),string:new V}}function Wn(i){return it(this,i).delete(i)}function Kn(i){return it(this,i).get(i)}function Xn(i){return it(this,i).has(i)}function Zn(i,a){return it(this,i).set(i,a),this}G.prototype.clear=Yn,G.prototype.delete=Wn,G.prototype.get=Kn,G.prototype.has=Xn,G.prototype.set=Zn;function D(i){this.__data__=new M(i)}function ti(){this.__data__=new M}function ei(i){return this.__data__.delete(i)}function ri(i){return this.__data__.get(i)}function ni(i){return this.__data__.has(i)}function ii(i,a){var u=this.__data__;if(u instanceof M){var f=u.__data__;if(!J||f.length<r-1)return f.push([i,a]),this;u=this.__data__=new G(f)}return u.set(i,a),this}D.prototype.clear=ti,D.prototype.delete=ei,D.prototype.get=ri,D.prototype.has=ni,D.prototype.set=ii;function si(i,a){var u=Mt(i)||xi(i)?On(i.length,String):[],f=u.length,v=!!f;for(var w in i)(a||j.call(i,w))&&!(v&&(w=="length"||Ti(w,f)))&&u.push(w);return u}function ke(i,a,u){var f=i[a];(!(j.call(i,a)&&De(f,u))||u===void 0&&!(a in i))&&(i[a]=u)}function nt(i,a){for(var u=i.length;u--;)if(De(i[u][0],a))return u;return-1}function oi(i,a){return i&&Ie(a,Rt(a),i)}function Ct(i,a,u,f,v,w,O){var b;if(f&&(b=w?f(i,v,w,O):f(i)),b!==void 0)return b;if(!st(i))return i;var Ne=Mt(i);if(Ne){if(b=Ai(i),!a)return vi(i,b)}else{var U=F(i),Be=U==y||U==Q;if(Ri(i))return di(i,a);if(U==wt||U==o||Be&&!w){if($e(i))return w?i:{};if(b=Oi(Be?{}:i),!a)return wi(i,oi(b,i))}else{if(!m[U])return w?i:{};b=Si(i,U,Ct,a)}}O||(O=new D);var ze=O.get(i);if(ze)return ze;if(O.set(i,b),!Ne)var Je=u?bi(i):Rt(i);return bn(Je||i,function(jt,ot){Je&&(ot=jt,jt=i[ot]),ke(b,ot,Ct(jt,a,u,f,ot,i,O))}),b}function ai(i){return st(i)?xn(i):{}}function ui(i,a,u){var f=a(i);return Mt(i)?f:An(f,u(i))}function ci(i){return rt.call(i)}function li(i){if(!st(i)||Ei(i))return!1;var a=Ue(i)||$e(i)?En:pn;return a.test(L(i))}function fi(i){if(!Ge(i))return Pn(i);var a=[];for(var u in Object(i))j.call(i,u)&&u!="constructor"&&a.push(u);return a}function di(i,a){if(a)return i.slice();var u=new i.constructor(i.length);return i.copy(u),u}function xt(i){var a=new i.constructor(i.byteLength);return new Pe(a).set(new Pe(i)),a}function hi(i,a){var u=a?xt(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)}function pi(i,a,u){var f=a?u(Ee(i),!0):Ee(i);return Te(f,vn,new i.constructor)}function gi(i){var a=new i.constructor(i.source,hn.exec(i));return a.lastIndex=i.lastIndex,a}function yi(i,a,u){var f=a?u(Ce(i),!0):Ce(i);return Te(f,wn,new i.constructor)}function mi(i){return Le?Object(Le.call(i)):{}}function _i(i,a){var u=a?xt(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)}function vi(i,a){var u=-1,f=i.length;for(a||(a=Array(f));++u<f;)a[u]=i[u];return a}function Ie(i,a,u,f){u||(u={});for(var v=-1,w=a.length;++v<w;){var O=a[v],b=f?f(u[O],i[O],O,u,i):void 0;ke(u,O,b===void 0?i[O]:b)}return u}function wi(i,a){return Ie(i,Qe(i),a)}function bi(i){return ui(i,Rt,Qe)}function it(i,a){var u=i.__data__;return $i(a)?u[typeof a=="string"?"string":"hash"]:u.map}function q(i,a){var u=Sn(i,a);return li(u)?u:void 0}var Qe=Ve?At(Ve,Object):Vi,F=ci;(St&&F(new St(new ArrayBuffer(1)))!=tt||J&&F(new J)!=X||Tt&&F(Tt.resolve())!=ce||$t&&F(new $t)!=Z||Et&&F(new Et)!=bt)&&(F=function(i){var a=rt.call(i),u=a==wt?i.constructor:void 0,f=u?L(u):void 0;if(f)switch(f){case Vn:return tt;case Fn:return X;case Ln:return ce;case kn:return Z;case In:return bt}return a});function Ai(i){var a=i.length,u=i.constructor(a);return a&&typeof i[0]=="string"&&j.call(i,"index")&&(u.index=i.index,u.input=i.input),u}function Oi(i){return typeof i.constructor=="function"&&!Ge(i)?ai(Cn(i)):{}}function Si(i,a,u,f){var v=i.constructor;switch(a){case he:return xt(i);case l:case h:return new v(+i);case tt:return hi(i,f);case pe:case ge:case ye:case me:case _e:case ve:case we:case be:case Ae:return _i(i,f);case X:return pi(i,f,u);case ue:case fe:return new v(i);case le:return gi(i);case Z:return yi(i,f,u);case de:return mi(i)}}function Ti(i,a){return a=a??s,!!a&&(typeof i=="number"||gn.test(i))&&i>-1&&i%1==0&&i<a}function $i(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Ei(i){return!!xe&&xe in i}function Ge(i){var a=i&&i.constructor,u=typeof a=="function"&&a.prototype||et;return i===u}function L(i){if(i!=null){try{return Me.call(i)}catch{}try{return i+""}catch{}}return""}function Ci(i){return Ct(i,!0,!0)}function De(i,a){return i===a||i!==i&&a!==a}function xi(i){return Mi(i)&&j.call(i,"callee")&&(!Mn.call(i,"callee")||rt.call(i)==o)}var Mt=Array.isArray;function qe(i){return i!=null&&ji(i.length)&&!Ue(i)}function Mi(i){return Pi(i)&&qe(i)}var Ri=jn||Fi;function Ue(i){var a=st(i)?rt.call(i):"";return a==y||a==Q}function ji(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=s}function st(i){var a=typeof i;return!!i&&(a=="object"||a=="function")}function Pi(i){return!!i&&typeof i=="object"}function Rt(i){return qe(i)?si(i):fi(i)}function Vi(){return[]}function Fi(){return!1}e.exports=Ci})(Ft,Ft.exports);var B=Ft.exports,Lt=function(){return Lt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Lt.apply(this,arguments)};function Li(e,t,r,n){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function l(y){try{d(n.next(y))}catch(Q){c(Q)}}function h(y){try{d(n.throw(y))}catch(Q){c(Q)}}function d(y){y.done?o(y.value):s(y.value).then(l,h)}d((n=n.apply(e,t||[])).next())})}function ki(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(y){return h([d,y])}}function h(d){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(y){d=[6,y],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function at(e,t,r,n,s){return Li(this,void 0,void 0,function(){var o,c;return ki(this,function(l){switch(l.label){case 0:if(r===void 0)return[2];c=0,l.label=1;case 1:return c<r.length?[4,r[c](e,t,n,s)]:[3,4];case 2:if(o=l.sent(),o==="canceled")return[3,4];l.label=3;case 3:return c++,[3,1];case 4:return o!=="canceled"?[2,o]:[2]}})})}var He=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:Lt({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},Ii=function(){function e(t,r,n,s){var o=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var c=B(r);at(t,c,n,this.htmlPluginState,s).then(function(l){if(o.isMounted){o.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var h=He(s,l);o.imgElement.setAttribute("src",c.toURL(h))}})}return e.prototype.update=function(t,r,n){var s=this,o=B(t);at(this.imgElement,o,r,this.htmlPluginState).then(function(c){if(s.isMounted){var l=He(n,c);s.imgElement.setAttribute("src",o.toURL(l))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let _=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},Qi=class extends Error{constructor(t="Unsupported"){super(t)}};function qt(e){return new Qi(e)}function Gi(){return this._qualifierModel||{error:qt(`unsupported qualifier ${this.constructor.name}`)}}let Di=class{constructor(){this._qualifierModel={}}toJson(){return Gi.apply(this)}},p=class extends Di{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof _?this.qualifierValue=r:(this.qualifierValue=new _,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},S=class extends p{constructor(t,r){let n;r?n=new _([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}};function qi(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Ui(){return this._actionModel&&Object.keys(this._actionModel).length?this._actionModel:{error:qt(`unsupported action ${this.constructor.name}`)}}let Ni=class{constructor(){this._actionModel={}}toJson(){return Ui.apply(this)}},C=class extends Ni{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),qi(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new S(n)):this.qualifiers.set(r,new p(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new S(t)):t instanceof S&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class lr extends C{constructor(t){super(),this.regionType=t}}class Bi extends lr{constructor(){super("named")}x(t){return this.addQualifier(new p("x",t)),this}y(t){return this.addQualifier(new p("y",t)),this}width(t){return this.addQualifier(new p("w",t)),this}height(t){return this.addQualifier(new p("h",t)),this}}function fr(){return new Bi}function dr(){return new lr("faces")}class zi extends C{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._actionModel.region={RegionType:t.regionType},this._region=t,this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="named"&&this.addQualifier(new p("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new p("e",`blur_region${t}`)),this.addQualifier(new p("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new p("e",`blur_faces${t}`))):this.addQualifier(new p("e",`blur${t}`))}static fromJson(t){const{actionType:r,strength:n,region:s}=t,o=new this(n);return n&&o.strength(n),s&&s.RegionType==="faces"&&o.region(dr()),s&&s.RegionType==="custom"&&o.region(fr()),o}}function k(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const hr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},Ji={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},pr={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent"},gr={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},Hi={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},yr={444:"CHROMA_444",420:"CHROMA_420"},Yi={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},Wi=k(yr);k(Yi);const Ki=k(hr),Xi=k(Ji),mr=k(pr);k(gr);k(Hi);class _r extends C{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=mr[t]||t;const n=this.createEffectQualifier(t,r);this.addQualifier(n)}createEffectQualifier(t,r){let n;return r?n=new _([t,`${r}`]).setDelimiter(":"):n=new _(t),new p("e",n)}static fromJson(t){const{actionType:r,level:n,strength:s}=t,o=pr[r]||r;return new this(o,n||s)}}class Zi extends _r{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=mr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function dt(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class ts extends C{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new _(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new _(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new _(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new _(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new _(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new p("e",t))}static fromJson(t){const{actionType:r,paths:n,cornersLevel:s,despeckleLevel:o,detailLevel:c,numOfColors:l}=t,h=new this;return n&&h.paths(n),s&&h.cornersLevel(s),o&&h.despeckleLevel(o),c&&h.detailsLevel(c),l&&h.numOfColors(l),h}}class es extends Zi{level(t){return this._actionModel.level=t,this.setLevel(t)}}class rs extends C{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new p("e",new _("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new p("e",new _(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new p("e",new _(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:n,stripesStrength:s}=t,o=new this;return n==="xray"&&o.xray(),n==="stripes"&&s&&o.stripesStrength(s),o}}class ns extends es{color(t){return this._actionModel.color=t,this.addQualifier(new p("co",new _(dt(t))))}static fromJson(t){const{actionType:r,level:n,color:s}=t,o=new this(r,n);return s&&o.color(s),o}}class is extends C{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={RegionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(n=>this.addQualifier(n)),this._region.regionType==="named"&&this.addQualifier(new p("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new p("e",`pixelate_region${t}`)),this.addQualifier(new p("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new p("e",`pixelate_faces${t}`))):this.addQualifier(new p("e",`pixelate${t}`))}static fromJson(t){const{actionType:r,region:n,squareSize:s}=t,o=new this(s);return s&&o.squareSize(s),n&&n.RegionType==="faces"&&o.region(dr()),n&&n.RegionType==="custom"&&o.region(fr()),o}}function ss(e){return new zi(e)}function os(){return new _r("grayscale")}function Ye(e){return new ns("colorize",e)}function as(){return new ts}function us(){return new rs}function cs(e){return new is(e)}let ls=class extends C{constructor(t){super(),this.addQualifier(new p("b",new _(t).setDelimiter("_")))}},We=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:qt(`unsupported action ${this.constructor.name}`)}}};function fs(e){const t=e;return"error"in t&&!!t.error}function ds(){return new S("ignore_aspect_ratio")}function hs(){return new S("lossy")}function ps(){return new S("preserve_transparency")}function gs(e){return new S("progressive",e)}function ys(){return new S("region_relative")}function ms(){return new S("relative")}let Ut=class extends _{constructor(t){super(t),this.val=t}getValue(){return this.val}},vr=class extends C{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Ut?s=r.getValue():s=r,this._actionModel.actionType=Xi[t],this._actionModel[n]=s,this.addQualifier(new p(t,r))}},_s=class extends S{constructor(t){super("progressive",t)}},kt=class extends vr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(hs()),this}progressive(t){return t instanceof _s?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(gs(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(ps()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),n&&c.lossy(),o&&c.preserveTransparency(),c}},ht=class wr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new We(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof wr?this.actions=this.actions.concat(t.actions):this.actions.push(new We(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new kt("q",t)),this}format(t){return this.addAction(new kt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ls(dt(t)))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new C;let n=t;return typeof t=="string"&&(n=new S(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(fs(n))return n;t.push(n)}return{actions:t}}};function Ke(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let vs=class extends _{},ws=class extends C{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=Ki[t]||t,this.addQualifier(new p("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new p("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new p("w",t))}aspectRatio(t){if(t instanceof vs)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new p("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Ke(t),this.addQualifier(new p("ar",Ke(t)));if(t instanceof S)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(ms())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(ys())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:c,width:l,height:h}=n,d=hr[r]||r,y=new this(d,l,h);return c&&y.aspectRatio(c==="ignore_aspect_ratio"?ds():c),s&&y.relative(),o&&y.regionRelative(),y}},Nt=class extends p{constructor(t){super("g",new _(t))}},br=class extends Nt{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}},Ar=class extends Nt{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}},Or=class extends Nt{constructor(t){super(t)}};function bs(e){return new Or(e)}function Sr(...e){const t=[...e];return new Ar(t)}function Tr(){return new br}let pt=class extends _{constructor(t){super(),this.name=t}toString(){return this.name}};function As(){return new pt("ocr_text")}function Os(e){return e&&`${e}`.split(":")[0]==="auto"}function Ss(e){const t=Bt(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function Bt(e){return`${e}`.replace("g_","")}function Ts(e){return{compass:Bt(e),gravityType:"direction"}}function $s(e){return Bt(e)==="ocr_text"}function Es(){return{gravityType:"ocr"}}function Cs(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function xs(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function $r(e){let t;const r=e==="auto"?new br:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(xs)}}function Ms(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),c=Tr().autoFocus(...o);s.fallbackGravity=$r(c)}return s}function Rs(e){const r=e.split(":").map(n=>new pt(n));return new Ar(r)}function js(e){return Ss(e)?Ts(e):$s(e)?Es():Os(e)||Cs(e)?$r(e):Ms(typeof e=="string"?Rs(e):e)}let Ps=class Er extends _{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){return new Er(t,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},Cr=class extends _{constructor(t){super(),this.val=t}toString(){return this.val}};function Vs(e){return e.gravityType==="direction"}function Fs(e){return e.gravityType==="ocr"}function Ls(e){return e.gravityType==="auto"}function ks(e){const{object:t,weight:r,avoid:n}=e,s=new Ps(new pt(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function xr(e){const r=(e.autoFocus||[]).map(ks);return Tr().autoFocus(...r)}function Is(e){const t=(e.focusOnObjects||[]).map(n=>new pt(n)),r=Sr(...t);if(e.fallbackGravity){const n=xr(e.fallbackGravity);r.fallbackGravity(n)}return r}function Qs(e){return Vs(e)?new Or(new Cr(e.compass)):Fs(e)?Sr(As()):Ls(e)?xr(e):Is(e)}let zt=class extends ws{gravity(t){this._actionModel.gravity=js(t);const r=typeof t=="string"?new p("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Qs(t.gravity)),r}};class gt extends p{constructor(t){super("b"),t&&this.addValue(t)}}class Gs extends gt{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){return`
    b_blurred
    ${this.intensityLevel?`:${this.intensityLevel}`:""}
    ${this.brightnessLevel?`:${this.brightnessLevel}`:""}
    `.replace(/\s+/g,"")}}var Mr=Gs;class Jt extends gt{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>dt(r)),this}}class Rr extends Jt{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class jr extends Jt{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class Pr extends jr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Vr extends jr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class Fr extends Jt{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}function Lr(e){return`${e}`.replace("b_","")}function Ds(){return{backgroundType:"auto"}}function qs(e){const{intensityLevel:t,brightnessLevel:r}=e,n={backgroundType:"blurred"};return(t||t===0)&&(n.intensity=t),(r||r===0)&&(n.brightness=r),n}function Ht(e){const t=e._contrast,r=e._palette,n={backgroundType:""};return t&&(n.contrast=!0),r&&(n.palette=r),n}function Us(e){return Object.assign(Object.assign({},Ht(e)),{backgroundType:"border"})}function kr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,n=Ht(e);return t&&(n.gradientColors=t),r&&(n.gradientDirection=r),n}function Ns(e){return Object.assign(Object.assign({},kr(e)),{backgroundType:"borderGradient"})}function Bs(e){return{backgroundType:"color",color:Lr(e)}}function zs(e){return Object.assign(Object.assign({},Ht(e)),{backgroundType:"predominant"})}function Js(e){return Object.assign(Object.assign({},kr(e)),{backgroundType:"predominantGradient"})}function Hs(e){return Lr(e)==="auto"?Ds():e instanceof Mr?qs(e):e instanceof Rr?Us(e):e instanceof Pr?Ns(e):e instanceof Fr?zs(e):e instanceof Vr?Js(e):Bs(e)}function Ys(){return new Ut("svg")}function Yt(){return new Ut("auto")}function Ir(){return new Rr}function Qr(){return new gt("auto")}function Gr(){return new Pr}function Dr(){return new Vr}function qr(){return new Fr}function Ur(e){return new gt(dt(e))}function Ws(){return new Mr}const Nr={auto:Qr,border:Ir,borderGradient:Gr,predominantGradient:Dr,predominant:qr,color:Ur,blurred:Ws};function Ks(e){const{brightness:t,intensity:r}=e,n=Nr.blurred();return(t||t==0)&&n.brightness(t),(r||r==0)&&n.intensity(r),n}function Xe(e,t){const{gradientColors:r,gradientDirection:n,contrast:s,palette:o}=t;return s&&e.contrast(),o&&e.palette(...o),r&&e.gradientColors(+r),n&&e.gradientDirection(n),e}function Ze(e,t){const{contrast:r,palette:n}=t;return r&&e.contrast(),n&&e.palette(...n),e}function Xs(e){const{backgroundType:t}=e;switch(t){case"auto":return Qr();case"blurred":return Ks(e);case"border":return Ze(Ir(),e);case"borderGradient":return Xe(Gr(),e);case"predominant":return Ze(qr(),e);case"predominantGradient":return Xe(Dr(),e);default:return Ur(e.color)}}class Zs extends zt{background(t){return this._actionModel.background=Hs(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(Xs(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class to extends zt{x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new p("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}let eo=class extends zt{x(t){return this._actionModel.x=t,this.addQualifier(new p("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new p("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function ro(e,t){return new to("crop",e,t)}function no(e,t){return new eo("fill",e,t)}function io(e,t){return new Zs("pad",e,t)}class so extends vr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=yr[t];const r=new _([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new p("q",r))}quantization(t){this._actionModel.quantization=t;const r=new _([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new p("q",r))}static fromJson(t){const{level:r,chromaSubSampling:n,quantization:s}=t,o=gr[r]||r,c=new this(o);if(n){const l=Wi[n.toUpperCase()];l&&c.chromaSubSampling(+l)}return s&&c.quantization(s),c}}function yt(e){return new kt("f",e)}function mt(e){return new so(e)}function oo(){return new Cr("north_east")}Ye(70).color("black"),Ye(40).color("white"),os(),us();new ht().effect(as()).delivery(mt("auto")).delivery(yt(Ys()));new ht().effect(cs()).delivery(mt("auto")).delivery(yt(Yt()));new ht().effect(ss(2e3)).delivery(mt("auto")).delivery(yt(Yt()));new ht().resize(io("iw_div_2").aspectRatio(1).background(Nr.auto())).resize(ro(1,1).gravity(bs(oo()))).resize(no().height("ih").width("iw")).delivery(mt("auto")).delivery(yt(Yt()));var tr={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},er="?_a=",ao=function(){function e(t,r,n,s,o,c){var l=this;this.mimeType="video",this.mimeSubTypes=tr,this.videoElement=t,this.originalVideo=r,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var h=B(r);at(t,r,s,this.htmlPluginState).then(function(){l.htmlPluginState.pluginEventSubscription.forEach(function(d){d()}),l.setVideoAttributes(o,c),l.handleSourceToVideo(h,n)})}return e.prototype.handleSourceToVideo=function(t,r){var n=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(o){n.appendSourceTag(t,o)})}},e.prototype.generateUserSources=function(t,r){var n=this;r.map(function(s){var o=s.type,c=s.codecs,l=s.transcode;return n.appendSourceTag(B(t).transcode(l),o,n.buildMimeType(o,c))})},e.prototype.appendSourceTag=function(t,r,n){var s=document.createElement("source"),o=t.toURL(),c=o.split(er),l=c[1]?"".concat(er).concat(c[1]):"";s.src="".concat(c[0],".").concat(r).concat(l),s.type=n||"video/".concat(tr[r]||r),this.videoElement.appendChild(s)},e.prototype.buildMimeType=function(t,r){var n="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(n+="; codecs="+(Array.isArray(r)?r.join(", "):r)),n},e.prototype.setVideoAttributes=function(t,r){var n;if(t===void 0&&(t={}),r==="auto"){var s=B(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(n=r.toURL)===null||n===void 0?void 0:n.call(r));for(var o=0,c=Object.entries(t);o<c.length;o++){var l=c[o],h=l[0],d=l[1];d&&this.videoElement.setAttribute(h,h==="poster"?d:"")}},e.prototype.update=function(t,r,n,s,o){var c=this;if(t!==this.originalVideo){for(var l=this.videoElement.getElementsByTagName("SOURCE");l[0];)l[0].parentNode.removeChild(l[0]);at(this.videoElement,t,n,this.htmlPluginState).then(function(){c.setVideoAttributes(s,o),c.handleSourceToVideo(t,r),c.videoElement.load()})}},e}(),uo=typeof P=="object"&&P&&P.Object===Object&&P,co=typeof self=="object"&&self&&self.Object===Object&&self;uo||co||Function("return this")();function lo(){return typeof window<"u"}function fo(e,t,r){var n=B(t);if(e)for(var s=0;s<e.length;s++){var o=e[s](null,n);if(!o)break}return n.toURL(r?{trackedAnalytics:r}:null)}function ut(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var It=function(e,t){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},It(e,t)};function Br(e,t){It(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Y=function(){return Y=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Y.apply(this,arguments)};function zr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var ct={exports:{}},g={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rr=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable;function go(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function yo(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var mo=yo()?Object.assign:function(e,t){for(var r,n=go(e),s,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var c in r)ho.call(r,c)&&(n[c]=r[c]);if(rr){s=rr(r);for(var l=0;l<s.length;l++)po.call(r,s[l])&&(n[s[l]]=r[s[l]])}}return n};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=mo,$=typeof Symbol=="function"&&Symbol.for,W=$?Symbol.for("react.element"):60103,_o=$?Symbol.for("react.portal"):60106,vo=$?Symbol.for("react.fragment"):60107,wo=$?Symbol.for("react.strict_mode"):60108,bo=$?Symbol.for("react.profiler"):60114,Ao=$?Symbol.for("react.provider"):60109,Oo=$?Symbol.for("react.context"):60110,So=$?Symbol.for("react.forward_ref"):60112,To=$?Symbol.for("react.suspense"):60113,$o=$?Symbol.for("react.memo"):60115,Eo=$?Symbol.for("react.lazy"):60116,nr=typeof Symbol=="function"&&Symbol.iterator;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jr={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hr={};function z(e,t,r){this.props=e,this.context=t,this.refs=Hr,this.updater=r||Jr}z.prototype.isReactComponent={};z.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(K(85));this.updater.enqueueSetState(this,e,t,"setState")};z.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yr(){}Yr.prototype=z.prototype;function Kt(e,t,r){this.props=e,this.context=t,this.refs=Hr,this.updater=r||Jr}var Xt=Kt.prototype=new Yr;Xt.constructor=Kt;Wt(Xt,z.prototype);Xt.isPureReactComponent=!0;var Zt={current:null},Wr=Object.prototype.hasOwnProperty,Kr={key:!0,ref:!0,__self:!0,__source:!0};function Xr(e,t,r){var n,s={},o=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)Wr.call(t,n)&&!Kr.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var h=Array(l),d=0;d<l;d++)h[d]=arguments[d+2];s.children=h}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:W,type:e,key:o,ref:c,props:s,_owner:Zt.current}}function Co(e,t){return{$$typeof:W,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function te(e){return typeof e=="object"&&e!==null&&e.$$typeof===W}function xo(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(r){return t[r]})}var Zr=/\/+/g,lt=[];function tn(e,t,r,n){if(lt.length){var s=lt.pop();return s.result=e,s.keyPrefix=t,s.func=r,s.context=n,s.count=0,s}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function en(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>lt.length&&lt.push(e)}function Qt(e,t,r,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case W:case _o:o=!0}}if(o)return r(n,e,t===""?"."+Pt(e,0):t),1;if(o=0,t=t===""?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){s=e[c];var l=t+Pt(s,c);o+=Qt(s,l,r,n)}else if(e===null||typeof e!="object"?l=null:(l=nr&&e[nr]||e["@@iterator"],l=typeof l=="function"?l:null),typeof l=="function")for(e=l.call(e),c=0;!(s=e.next()).done;)s=s.value,l=t+Pt(s,c++),o+=Qt(s,l,r,n);else if(s==="object")throw r=""+e,Error(K(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return o}function Gt(e,t,r){return e==null?0:Qt(e,"",t,r)}function Pt(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xo(e.key):t.toString(36)}function Mo(e,t){e.func.call(e.context,t,e.count++)}function Ro(e,t,r){var n=e.result,s=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?Dt(e,n,r,function(o){return o}):e!=null&&(te(e)&&(e=Co(e,s+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(Zr,"$&/")+"/")+r)),n.push(e))}function Dt(e,t,r,n,s){var o="";r!=null&&(o=(""+r).replace(Zr,"$&/")+"/"),t=tn(t,o,n,s),Gt(e,Ro,t),en(t)}var rn={current:null};function R(){var e=rn.current;if(e===null)throw Error(K(321));return e}var jo={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Zt,IsSomeRendererActing:{current:!1},assign:Wt};g.Children={map:function(e,t,r){if(e==null)return e;var n=[];return Dt(e,n,null,t,r),n},forEach:function(e,t,r){if(e==null)return e;t=tn(null,null,t,r),Gt(e,Mo,t),en(t)},count:function(e){return Gt(e,function(){return null},null)},toArray:function(e){var t=[];return Dt(e,t,null,function(r){return r}),t},only:function(e){if(!te(e))throw Error(K(143));return e}};g.Component=z;g.Fragment=vo;g.Profiler=bo;g.PureComponent=Kt;g.StrictMode=wo;g.Suspense=To;g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jo;g.cloneElement=function(e,t,r){if(e==null)throw Error(K(267,e));var n=Wt({},e.props),s=e.key,o=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=Zt.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(h in t)Wr.call(t,h)&&!Kr.hasOwnProperty(h)&&(n[h]=t[h]===void 0&&l!==void 0?l[h]:t[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){l=Array(h);for(var d=0;d<h;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:W,type:e.type,key:s,ref:o,props:n,_owner:c}};g.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Oo,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Ao,_context:e},e.Consumer=e};g.createElement=Xr;g.createFactory=function(e){var t=Xr.bind(null,e);return t.type=e,t};g.createRef=function(){return{current:null}};g.forwardRef=function(e){return{$$typeof:So,render:e}};g.isValidElement=te;g.lazy=function(e){return{$$typeof:Eo,_ctor:e,_status:-1,_result:null}};g.memo=function(e,t){return{$$typeof:$o,type:e,compare:t===void 0?null:t}};g.useCallback=function(e,t){return R().useCallback(e,t)};g.useContext=function(e,t){return R().useContext(e,t)};g.useDebugValue=function(){};g.useEffect=function(e,t){return R().useEffect(e,t)};g.useImperativeHandle=function(e,t,r){return R().useImperativeHandle(e,t,r)};g.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)};g.useMemo=function(e,t){return R().useMemo(e,t)};g.useReducer=function(e,t,r){return R().useReducer(e,t,r)};g.useRef=function(e){return R().useRef(e)};g.useState=function(e){return R().useState(e)};g.version="16.14.0";Function.call.bind(Object.prototype.hasOwnProperty);ct.exports=g;var N=ct.exports,Vt={sdkSemver:"1.11.2",techVersion:N.version,sdkCode:"J"},bu=function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.imageRef=N.createRef(),n}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new Ii(this.imageRef.current,this.props.cldImg,this.props.plugins,Vt)},t.prototype.componentDidUpdate=function(){ut(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,Vt)},t.prototype.componentWillUnmount=function(){ut(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var n=zr(r,["cldImg","plugins"]);if(lo())return N.createElement("img",Y({suppressHydrationWarning:!0},n,{ref:this.imageRef}));var s=fo(this.props.plugins,this.props.cldImg,Vt);return N.createElement("img",Y({},n,{src:s}))},t}(N.Component),Po=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){Br(t,e);function t(r){var n=e.call(this,r)||this;return n.videoRef=ct.exports.createRef(),n.attachRef=n.attachRef.bind(n),n}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new ao(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentDidUpdate=function(){ut(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){ut(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,n={};return Po.forEach(function(s){s in r.props&&(n[s]=r.props[s])}),n},t.prototype.attachRef=function(r){this.videoRef.current=r;var n=this.props.innerRef;n&&(n instanceof Function?n(r):n.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef;var n=zr(r,["cldVid","cldPoster","plugins","sources","innerRef"]);return N.createElement("video",Y({},n,{ref:this.attachRef}))},t})(ct.exports.Component);function Vo(e){return!(typeof e!="object"||e instanceof Array)}class Fo{filterOutNonSupportedKeys(t,r){const n=Object.create({});return Vo(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?n[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const Lo=Fo,ir=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class ee extends Lo{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,ir);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,ir);return new ee(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}const ko=ee;class E{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Io extends Error{constructor(t="Unsupported"){super(t)}}function re(e){return new Io(e)}function Qo(){return this._qualifierModel||{error:re(`unsupported qualifier ${this.constructor.name}`)}}class Go{constructor(){this._qualifierModel={}}toJson(){return Qo.apply(this)}}class A extends Go{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof E?this.qualifierValue=r:(this.qualifierValue=new E,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class T extends A{constructor(t,r){let n;r?n=new E([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function Do(e,t){const r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function qo(){var e,t,r;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:re(`unsupported action ${this.constructor.name}`)}}class Uo{constructor(){this._actionModel={}}toJson(){return qo.apply(this)}}class _t extends Uo{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Do(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new T(n)):this.qualifiers.set(r,new A(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new T(t)):t instanceof T&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}class No extends _t{constructor(t){super(),this.addQualifier(new A("b",new E(t).setDelimiter("_")))}}function Bo(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class sr{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:re(`unsupported action ${this.constructor.name}`)}}}function zo(e){const t=e;return"error"in t&&!!t.error}function Jo(){return new T("ignore_aspect_ratio")}function Ho(){return new T("lossy")}function Yo(){return new T("preserve_transparency")}function Wo(e){return new T("progressive",e)}function Ko(){return new T("region_relative")}function Xo(){return new T("relative")}class Zo extends E{constructor(t){super(t),this.val=t}getValue(){return this.val}}function I(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const nn={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},ta={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},ea={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent"},ra={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},na={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},ia={444:"CHROMA_444",420:"CHROMA_420"},sa={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};I(ia);I(sa);const oa=I(nn),aa=I(ta);I(ea);I(ra);I(na);class ua extends _t{constructor(t,r,n){super(),this._actionModel={};let s;r instanceof Zo?s=r.getValue():s=r,this._actionModel.actionType=aa[t],this._actionModel[n]=s,this.addQualifier(new A(t,r))}}class ca extends T{constructor(t){super("progressive",t)}}class ft extends ua{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Ho()),this}progressive(t){return t instanceof ca?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Wo(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Yo()),this}static fromJson(t){const{formatType:r,lossy:n,progressive:s,preserveTransparency:o}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),n&&c.lossy(),o&&c.preserveTransparency(),c}}class ne{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new sr(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof ne?this.actions=this.actions.concat(t.actions):this.actions.push(new sr(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new ft("q",t)),this}format(t){return this.addAction(new ft("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new No(Bo(t)))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new _t;let n=t;return typeof t=="string"&&(n=new T(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const n=r.toJson();if(zo(n))return n;t.push(n)}return{actions:t}}}class la extends ne{}function or(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class fa extends E{}class da extends _t{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=oa[t]||t,this.addQualifier(new A("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new A("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new A("w",t))}aspectRatio(t){if(t instanceof fa)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new A("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=or(t),this.addQualifier(new A("ar",or(t)));if(t instanceof T)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Xo())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Ko())}static fromJson(t){const{actionType:r,dimensions:n,relative:s,regionRelative:o}=t,{aspectRatio:c,width:l,height:h}=n,d=nn[r]||r,y=new this(d,l,h);return c&&y.aspectRatio(c==="ignore_aspect_ratio"?Jo():c),s&&y.relative(),o&&y.regionRelative(),y}}class ie extends A{constructor(t){super("g",new E(t))}}class sn extends ie{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class on extends ie{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class ha extends ie{constructor(t){super(t)}}function an(...e){const t=[...e];return new on(t)}function un(){return new sn}class vt extends E{constructor(t){super(),this.name=t}toString(){return this.name}}function pa(){return new vt("ocr_text")}function ga(e){return e&&`${e}`.split(":")[0]==="auto"}function ya(e){const t=se(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function se(e){return`${e}`.replace("g_","")}function ma(e){return{compass:se(e),gravityType:"direction"}}function _a(e){return se(e)==="ocr_text"}function va(){return{gravityType:"ocr"}}function wa(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function ba(e){const r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function cn(e){let t;const r=e==="auto"?new sn:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(ba)}}function Aa(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(o=>`${o}`)};if(t){const o=r[r.length-1].values.slice(1),c=un().autoFocus(...o);s.fallbackGravity=cn(c)}return s}function Oa(e){const r=e.split(":").map(n=>new vt(n));return new on(r)}function Sa(e){return ya(e)?ma(e):_a(e)?va():ga(e)||wa(e)?cn(e):Aa(typeof e=="string"?Oa(e):e)}class oe extends E{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){return new oe(t,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class Ta extends E{constructor(t){super(),this.val=t}toString(){return this.val}}function $a(e){return e.gravityType==="direction"}function Ea(e){return e.gravityType==="ocr"}function Ca(e){return e.gravityType==="auto"}function xa(e){const{object:t,weight:r,avoid:n}=e,s=new oe(new vt(t));return(r||r===0)&&s.weight(r),n&&s.avoid(),s}function ln(e){const r=(e.autoFocus||[]).map(xa);return un().autoFocus(...r)}function Ma(e){const t=(e.focusOnObjects||[]).map(n=>new vt(n)),r=an(...t);if(e.fallbackGravity){const n=ln(e.fallbackGravity);r.fallbackGravity(n)}return r}function Ra(e){return $a(e)?new ha(new Ta(e.compass)):Ea(e)?an(pa()):Ca(e)?ln(e):Ma(e)}class ja extends da{gravity(t){this._actionModel.gravity=Sa(t);const r=typeof t=="string"?new A("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(Ra(t.gravity)),r}}class Pa extends ja{x(t){return this._actionModel.x=t,this.addQualifier(new A("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new A("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Au(e,t){return new Pa("fill",e,t)}function Va(e){return e.match(/^https?:\//)}function Fa(e){return e.indexOf("/")<0}function La(e){return e.match(/^v[0-9]+/)}function ka(e,t){const r=t.secure,n=t.privateCdn,s=t.cname,o=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Ia(e){return e||"image"}function Qa(e){return e||"upload"}function Ga(e,t,r){const n=r!==!1;return t?`v${t}`:La(e)||Va(e)||Fa(e)?"":n?"v1":""}function ae(e,t,r){let n=t>>0,s=String(typeof r<"u"?r:" ");return e.length>n?String(e):(n=n-e.length,n>s.length&&(s+=Da(s,n/s.length)),s.slice(0,n)+String(e))}function Da(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}const qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fn={};let ar=0;qa.split("").forEach(e=>{let t=ar.toString(2);t=ae(t,6,"0"),fn[t]=e,ar++});function Ua(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return ae(t,2,"0")}).join(".")}function ur(e){let t="";const n=e.split(".").length*6,s=Ua(e);let c=parseInt(s.split(".").join("")).toString(2);if(c=ae(c,n,"0"),c.length%6!==0)throw"Version must be smaller than 43.21.26)";return c.match(/.{1,6}/g).forEach(l=>{t+=fn[l]}),t}function Na(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0"};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),t}const Ba="1.10.2";function za(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Ja(e){const t={techVersion:za(),sdkCode:"T",sdkSemver:Ba.split("-")[0],product:"A",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function Ha(e){const t=Ja(e),r=Na(t);try{const n=Ya(r.techVersion),s=ur(r.sdkSemver),o=ur(n),c=r.feature,l=r.sdkCode;return`B${r.product}${l}${s}${o}${c}`}catch{return"E"}}function Ya(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const cr={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Wa{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new ko(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Ia(this.assetType),r=Qa(this.deliveryType),n=!!this.suffix,s=`${t}/${r}`,o=cr[`${t}/${r}`],c=this.urlConfig.useRootPath,l=this.urlConfig.shorten;if(c){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(l&&s==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(cr).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=ka(this.cloudName,this.urlConfig),s=t?t.toString():"",o=Ga(this.publicID,this.version,this.urlConfig.forceVersion),c=this.publicID.replace(/,/g,"%2C"),l=[n,this.getResourceType(),this.getSignature(),s,o,c,this.suffix].filter(h=>h).join("/");if(typeof t=="string")return l;{const h=encodeURI(l).replace(/\?/g,"%3F").replace(/=/g,"%3D"),d=new URLSearchParams(this.urlConfig.queryParams);this.urlConfig.analytics!==!1&&!c.includes("?")&&d.set("_a",Ha(r));const y=d.toString();return y?`${h}?${y}`:h}}}class Ka extends Wa{constructor(t,r,n,s){super(t,r,n),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new ft("q",t)),this}format(t){return this.addAction(new ft("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}class Ou extends Ka{constructor(t,r,n){super(t,r,n,new la)}}export{bu as A,Ou as C,Au as f};
