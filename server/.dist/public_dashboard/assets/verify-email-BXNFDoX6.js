import{y as j,A as k,C as p,ab as g,ac as y,r as o,j as e,B as v,a4 as b,x as E,m as C,T as t,G as L,W as S}from"./index-BfR9Iyc6.js";import{L as V}from"./logo-BF6DuBGE.js";import{C as A}from"./Card-Dm8i3DpH.js";import{L as T}from"./Link-Cp_zJvhJ.js";import{L as l}from"./LoadingButton-D08xbPUI.js";function w(){const c=j(),{session:i}=k(),{data:a}=p(i.token),{mutate:u,isLoading:d,isSuccess:h,isError:m}=g(),{logout:x}=y(),[f,s]=o.useState("");o.useEffect(()=>{r()},[]);const r=()=>{u({token:i.token},{onSuccess:()=>{console.log("Email verification link send")},onError:n=>{if(!n.response)return s("Tarkista verkkoyhteytesi");switch(n.response.status){case 409:s("Virhe 409: Sähköpostisi on jo vahvistettu! Kirjaudu sisään uudelleen.");break;case 429:s("Olet yrittänyt liian monta kertaa. Odota hetki ja yritä uudestaan.");break;default:s("Oho, jokin meni vikaan.");break}}})};return e.jsxs(v,{sx:{...b({color:E(c.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(V,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(C,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(A,{sx:{p:5,width:1,maxWidth:420,display:"grid"},children:[e.jsx(t,{variant:"h4",sx:{mb:5},children:"Vahvista sähköposti"}),d&&e.jsx(L,{sx:{justifySelf:"center"}}),h&&e.jsxs(e.Fragment,{children:[e.jsxs(t,{variant:"body1",sx:{mb:5},children:["Hei ",a.first_name,", olemme lähettäneet sähköpostivahvistuksen osoitteeseen ",e.jsx(T,{underline:"none",children:a.email})]}),e.jsx(t,{variant:"body2",children:"Etkö saanut sähköpostia?"}),e.jsx(l,{size:"medium",variant:"text",onClick:r,sx:{mb:2,textAlign:"left",justifySelf:"left"},children:"Lähetä viesti uudelleen"})]}),m&&e.jsxs(t,{variant:"body1",color:"error",children:[" ",f," "]}),e.jsx(l,{fullWidth:!0,color:"error",size:"small",variant:"text",onClick:x,sx:{mt:5},children:"Kirjaudu ulos"})]})})]})}function F(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx("title",{children:" Vahvista sähköposti | SE-AS "})}),e.jsx(w,{})]})}export{F as default};
