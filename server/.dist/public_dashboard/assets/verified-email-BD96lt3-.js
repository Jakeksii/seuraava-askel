import{y as d,ae as m,a7 as x,af as f,j as e,B as p,a4 as j,x as k,m as v,T as s,ad as y,n as g,W as C,E}from"./index-B3jCW4Fb.js";import{L as S}from"./logo-_6u3cJ9y.js";import{u as b}from"./use-router-CH7-W6vm.js";import{C as T}from"./Card-DW1bMlw1.js";import"./Link-DzaUqRWn.js";function B(){const a=d(),n=b(),o=m(),[u]=x(),{isLoading:c,isSuccess:t,isError:r,error:i}=f({verification_token:u.get("verification_token")}),l=()=>{o.invalidateQueries("user"),n.push("/")};function h(){if(!i.response)return"Tarkista verkkoyhteytesi";switch(i.response.status){case 401:return"Tunnuksen vahvistus epäonnistui. Linkki on voinut vanhentua.";case 429:return"Olet yrittänyt liian monta kertaa. Odota hetki ja yritä uudestaan.";default:return"Oho, jokin meni vikaan. Kokeile myöhemmin uudelleen."}}return e.jsxs(p,{sx:{...j({color:k(a.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(S,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(v,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(T,{sx:{p:5,width:1,maxWidth:420,display:"grid"},children:[e.jsx(s,{variant:"h4",children:"Sähköpostin vahvistus"}),c&&e.jsx(y,{sx:{justifySelf:"center",mt:2}}),t&&e.jsx(s,{variant:"body1",children:"Sähköpostisi on vahvistettu!"}),r&&e.jsx(s,{variant:"body1",color:"error",children:h()}),e.jsx("br",{}),(t||r)&&e.jsx(g,{fullWidth:!0,color:"success",size:"large",variant:"contained",onClick:l,children:"Jatka"})]})})]})}function W(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx("title",{children:" Sähköpostin vahvistus "})}),e.jsx(E,{children:e.jsx(B,{})})]})}export{W as default};
